{"mappings":"AAAA,MAAMA,EAAaC,SAASC,eAAe,eACrCC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,cAG3C,IAAIE,EAAc,GACdC,EAAO,EA2BX,SAASC,IACPH,EAAYI,MAAMC,QAAU,M,CAG9BC,eAAeC,IACb,MAAMC,EAAM,+CAA4CP,kEAA4EC,gBAEpI,IACE,MACMO,SADiBC,MAAMC,IAAIH,IACXC,KAEtB,GAAyB,IAArBA,EAAKG,KAAKC,OAKZ,OAJAC,SAASC,OAAOC,QACd,iFAEFb,IAIFM,EAAKG,KAAKK,SAAQC,IAChB,MAAMC,EAiBZ,SAAyBD,GACvB,MAAME,aACJA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,GACER,EAEEC,EAAYvB,SAAS+B,cAAc,OACzCR,EAAUS,UAAUC,IAAI,cAExB,MAAMC,EAAelC,SAAS+B,cAAc,OAC5CG,EAAaC,IAAMX,EACnBU,EAAaE,IAAMV,EACnBQ,EAAaG,QAAU,OAEvB,MAAMC,EAAUtC,SAAS+B,cAAc,OACvCO,EAAQN,UAAUC,IAAI,QAEtB,MAAMM,EAAiBC,EAAoB,QAASb,GAC9Cc,EAAiBD,EAAoB,QAASZ,GAC9Cc,EAAoBF,EAAoB,WAAYX,GACpDc,EAAqBH,EAAoB,YAAaV,GAU5D,OARAQ,EAAQM,OACNL,EACAE,EACAC,EACAC,GAEFpB,EAAUqB,OAAOV,EAAcI,GAExBf,C,CApDesB,CAAgBvB,GAClCpB,EAAQ4C,YAAYvB,EAAU,IAG5BV,EAAKkC,WAAoB,GAAPzC,IACpBC,IACAW,SAASC,OAAO6B,KACd,8D,CAGJ,MAAOC,GACPC,QAAQD,MAAM,SAAUA,GACxB/B,SAASC,OAAOC,QAAQ,8CACxBb,G,EA0CJ,SAASiC,EAAoBW,EAAOC,GAClC,MAAMC,EAAYrD,SAAS+B,cAAc,KACzCsB,EAAUrB,UAAUC,IAAI,aACxB,MAAMqB,EAAWtD,SAAS+B,cAAc,KAGxC,OAFAuB,EAASC,YAAcJ,EACvBE,EAAUT,OAAOU,EAAU,KAAKF,KACzBC,C,CA1GTtD,EAAWyD,iBAAiB,UAG5B9C,eAAgC+C,GAC9BA,EAAMC,iBACNpD,EAAO,EACPD,EAAcN,EAAW4D,SAASC,YAAYR,MAY9ClD,EAAQ2D,UAAY,SAVdlD,IAcNP,EAAYI,MAAMC,QAAU,O,IArB9BL,EAAYoD,iBAAiB,SAW7B9C,iBACEJ,UACMK,G","sources":["src/index.js"],"sourcesContent":["const searchForm = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst apiKey = 'u_q1s8se4pv1';\n\nlet searchQuery = '';\nlet page = 1;\n\nsearchForm.addEventListener('submit', handleFormSubmit);\nloadMoreBtn.addEventListener('click', loadMoreImages);\n\nasync function handleFormSubmit(event) {\n  event.preventDefault();\n  page = 1;\n  searchQuery = searchForm.elements.searchQuery.value;\n  clearGallery();\n  await searchImages();\n  showLoadMoreButton();\n}\n\nasync function loadMoreImages() {\n  page++;\n  await searchImages();\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction showLoadMoreButton() {\n  loadMoreBtn.style.display = 'block';\n}\n\nfunction hideLoadMoreButton() {\n  loadMoreBtn.style.display = 'none';\n}\n\nasync function searchImages() {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`;\n\n  try {\n    const response = await axios.get(url);\n    const data = response.data;\n\n    if (data.hits.length === 0) {\n      notiflix.Notify.failure(\n        'Sorry, there are no images matching your search query. Please try again.'\n      );\n      hideLoadMoreButton();\n      return;\n    }\n\n    data.hits.forEach(image => {\n      const photoCard = createPhotoCard(image);\n      gallery.appendChild(photoCard);\n    });\n\n    if (data.totalHits <= page * 40) {\n      hideLoadMoreButton();\n      notiflix.Notify.info(\n        \"We're sorry, but you've reached the end of search results.\"\n      );\n    }\n  } catch (error) {\n    console.error('Error:', error);\n    notiflix.Notify.failure('An error occurred. Please try again later.');\n    hideLoadMoreButton();\n  }\n}\n\nfunction createPhotoCard(image) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = image;\n\n  const photoCard = document.createElement('div');\n  photoCard.classList.add('photo-card');\n\n  const imageElement = document.createElement('img');\n  imageElement.src = webformatURL;\n  imageElement.alt = tags;\n  imageElement.loading = 'lazy';\n\n  const infoDiv = document.createElement('div');\n  infoDiv.classList.add('info');\n\n  const likesParagraph = createInfoParagraph('Likes', likes);\n  const viewsParagraph = createInfoParagraph('Views', views);\n  const commentsParagraph = createInfoParagraph('Comments', comments);\n  const downloadsParagraph = createInfoParagraph('Downloads', downloads);\n\n  infoDiv.append(\n    likesParagraph,\n    viewsParagraph,\n    commentsParagraph,\n    downloadsParagraph\n  );\n  photoCard.append(imageElement, infoDiv);\n\n  return photoCard;\n}\n\nfunction createInfoParagraph(label, value) {\n  const paragraph = document.createElement('p');\n  paragraph.classList.add('info-item');\n  const boldText = document.createElement('b');\n  boldText.textContent = label;\n  paragraph.append(boldText, `: ${value}`);\n  return paragraph;\n}\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$searchQuery","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$hideLoadMoreButton","style","display","async","$1f0dc3b9307be026$var$searchImages","url","data","axios","get","hits","length","notiflix","Notify","failure","forEach","image","photoCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createElement","classList","add","imageElement","src","alt","loading","infoDiv","likesParagraph","$1f0dc3b9307be026$var$createInfoParagraph","viewsParagraph","commentsParagraph","downloadsParagraph","append","$1f0dc3b9307be026$var$createPhotoCard","appendChild","totalHits","info","error","console","label","value","paragraph","boldText","textContent","addEventListener","event","preventDefault","elements","searchQuery","innerHTML"],"version":3,"file":"index.74b3d662.js.map"}